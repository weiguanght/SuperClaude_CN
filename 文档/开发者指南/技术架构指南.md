# SuperClaude 上下文架构指南 (Technical Architecture)

本指南旨在向您清晰地展示 SuperClaude 的技术层级。它是如何组织上下文文件，以及 Claude Code 如何读取这些文件来改变其行为逻辑的。

## 什么是 SuperClaude 架构？
SuperClaude **不运行**任何后端代码。它的本质是一套经过严密组织的 `.md` 文件。它的复杂度并不来源于代码逻辑，而来源于对**提示词上下文**的精确分类与动态叠加。

## 目录结构分析 (`~/.claude/`)
- **CLAUDE.md**：主控入口，通过导入（Import）系统加载所有二级模块。
- **RULES.md / PRINCIPLES.md**：定义 AI 行为的核心规则与底层逻辑。
- **FLAGS.md**：定义各类命令标志位及其触发机制。
- **agents/**：存放 19 位领域专家的上下文（如架构师、安全官、后端专家等）。
- **commands/**：存放 25 个工作流模式（如分析、设计、实施等命令行模式）。
- **modes/**：存放行为修改模式（如头脑风暴、任务管理等）。

## 核心工作机制

### 1. 导入系统 (The Import System)
主入口 `CLAUDE.md` 使用 `@filename.md` 语法将各离散文件合并到 Claude 的会话感知中。这确保了 AI 既能保持轻量启动，又能根据需求即时调取大规模背景知识。

### 2. 智能体激活逻辑
- **手动**：用户明确输入 `@agent-name`。
- **自动**：指令句式中的关键词命中 `.md` 文件中预设的触发器 (Triggers)。

### 3. 命令处理序列
当您输入 `/sc:analyze` 时：
1. 识别并加载 `analyze.md`。
2. 根据指令提示 Claude 进行多步骤思考。
3. 如果指定了标志位（如 `--focus security`），则加载相应的专家上下文进行叠加分析。

## 架构的扩展性
要增加一个新功能，您只需要在本地创建一个新的 Markdown 文件并定义其触发逻辑即可。无需编译、无需部署，这使得框架的演进极其敏捷。

---

*SuperClaude 架构的优势在于其极致的简约：它仅仅通过结构化的文档展示，就实现了原本需要复杂软件编排才能达成的 AI 行为控制。*
