# SuperClaude 诊断参考指南 (Diagnostic Reference)

## 概览
本指南提供了诊断 SuperClaude 上下文文件及配置问题的操作流程。由于 SuperClaude 是一系列文本文件（而非运行中的软件），其诊断重点在于文件核验与配置检查。

**重要说明**：SuperClaude 纯粹是供 Claude Code 读取的配置文件。这里没有需要监控的进程，没有需要衡量的性能指标，也没有需要分析的系统资源。

## 快速诊断

### 一键健康检查
```bash
# 快速检查状态
ls ~/.claude/CLAUDE.md && echo "✅ SuperClaude 已安装" || echo "❌ 未安装"
```

### 基础诊断命令
```bash
# 检查 SuperClaude 版本
python3 -m SuperClaude --version

# 统计上下文文件数量 (预期 40 个以上)
find ~/.claude -name "*.md" -type f | wc -l

# 检查是否存在空文件 (不应有输出)
find ~/.claude -name "*.md" -type f -size 0

# 验证目录结构
ls -la ~/.claude/
```

## 文件系统诊断

### 核心文件核验
检查 `CLAUDE.md`, `FLAGS.md`, `RULES.md`, `PRINCIPLES.md` 等核心文件是否存在且大小正常。

### 导入系统检查
在 `CLAUDE.md` 中核验 `@import` 语句，确保所有必需的模块已被正确引用。

## 配置诊断

### MCP 服务器配置检查
检查 `~/.claude.json` 文件是否存在并符合有效的 JSON 语法，同时列出已配置的服务器。

### 权限诊断
确保 `~/.claude/` 及其子目录下的所有 `.md` 文件均具有可读权限（建议权限为 644）。

## 常见问题诊断

### 命令无法识别
如果特定的斜杠命令（如 `/sc:implement`）失效，请检查 `~/.claude/commands/` 下对应的 `.md` 文件是否存在，且包含正确的元数据头和命令模式。

### 智能体无法激活
核验 `~/.claude/agents/` 下对应的专家文件，确保其包含正确的触发关键词（Triggers）及元数据。

## 安装修复

### 快速修复脚本
通过重设文件权限、补充缺失目录（`agents`, `commands`, `modes`）及修复空文件来进行一键修复。

### 彻底重装
1. 备份当前 `~/.claude` 目录。
2. 删除现有安装。
3. 运行 `SuperClaude install` 重新部署。

## 诊断重点总结
SuperClaude 诊断逻辑非常简单：只需确认上下文文件**是否存在**、文件内容**是否完整且可读**、以及 JSON 配置**是否有效**即可。如果文件齐备且可读，SuperClaude 通常即可正常运行。
