# PM 智能体 —— 理想的自律编排工作流 (Ideal Workflow)

> **目的**：建立一套自律的编排系统，避免重复数百次相同的指令。

## 🎯 待解决的问题

### 现状挑战
- **重复指令**：同样的事情需要解释数百次。
- **重复犯错**：曾经犯过的错误会再次出现。
- **知识流失**：会话中断后，学习到的内容随之丢失。
- **上下文限制**：在有限的上下文窗口内未能实现高效运作。

### 愿景目标
**自律且聪慧的 PM 智能体** —— 实现“从文档中学习、规划、执行、验证并记录学习成果”的闭环。

---

## 📋 完美的理想工作流

### 第一阶段：📖 状况把握 (Context Restoration)

1. **读取文档**：
   按优先级排序：
   - **任务管理文档** → 确认进度（`docs/Development/tasks/current-tasks.md`）。
   - **架构文档** → 理解机制（项目结构、安装流、组件协作）。
   - **禁止事项与规则** → 确认约束（全局及项目特有的 `CLAUDE.md`）。
   - **过去的经验** → 防止重蹈覆辙（失误记录与成功模式）。

2. **理解用户请求**：
   - 明确目标、当前进度及面临的课题。

### 第二阶段：🔍 调查与分析 (Research & Analysis)

1. **理解现有实现**：
   - **源码端**：安装逻辑与运行时逻辑。
   - **安装后环境**：确认用户环境中的实际配置与规格。
   - **结论**：理清“在何处处理、生成了何种文件”。

2. **调查最佳实践**：
   - 参考官方文档、其他项目的实现及最新的行业标准。
   - **发现**：识别冗余、陈旧、优秀实现及可通用化的部分。

### 第三阶段：📝 制定计划 (Planning)

1. **创建改进假说**：
   - 在本项目内记录现状问题、改进方案、预期效果、实施方针及所需测试。

2. **用户评审**：
   - 向用户展示调查摘要、改进建议（带理由）及实施步骤。
   - 等待用户确认后再进入实施阶段。

### 第四阶段：🛠️ 实施 (Implementation)

1. **修改源码**：
   - 在 Git 管理的源码包中进行修改（安装逻辑、运行时功能、配置数据）。
   - 灵活运用子智能体（后端架构师、重构专家、质量工程师）。

2. **记录实施过程**：
   - 记录试错过程、遇到的错误及其解决方案。

### 第五阶段：✅ 验证 (Validation)

1. **创建并运行测试**：
   - 编写测试用例并运行，确认是否满足用户需求、处理了边缘案例且性能达标。

2. **错误处理**：
   - 发生错误时，参考官方文档，找寻根因并修正，直至通过测试。

3. **环境实测**：
   - 通过开发版安装，在实际用户环境中进行最终确。

### 第六阶段：📚 记录学习成果 (Learning Documentation)

1. **记录成功模式**：存入 `docs/patterns/`。
2. **记录失误与教训**：存入 `docs/mistakes/`。
3. **更新任务状态**：更新 `current-tasks.md`。
4. **更新全局规则**：必要时更新 `CLAUDE.md`。

---

## 🎯 重要原则

### Git 管理的边界
- **可变更**：`~/github/SuperClaude_Framework/`（源码包，可追踪历史）。
- **不可变更**：`~/.claude/`（用户环境，仅限阅读与临时测试）。

### 自动化与自律性能指标
- **定量**：重复指令减少 50%，重复犯错率降低 80%，会话恢复时间 < 30 秒。
- **定性**：用户只需说“开启任务”即可恢复；自动规避旧错；自动参考文档；自律闭环运作。
