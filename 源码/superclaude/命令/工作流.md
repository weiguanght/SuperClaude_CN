---
name: workflow
description: "根据需求文档 (PRD) 和功能需求生成结构化的实施工作流"
category: orchestration
complexity: advanced
mcp-servers: [sequential, context7, magic, playwright, morphllm, serena]
personas: [architect, analyzer, frontend, backend, security, devops, project-manager]
---

# /sc:workflow - 实施工作流生成器

## 触发场景
- 针对实施规划的 PRD 和功能规格说明分析。
- 为开发项目生成结构化的工作流。
- 针对复杂实施策略的多人格协调。
- 跨会话的工作流管理与依赖映射。

## 用法
```
/sc:workflow [PRD文件|功能描述] [--strategy systematic|agile|enterprise] [--depth shallow|normal|deep] [--parallel]
```

## 行为流程
1. **分析 (Analyze)**：解析 PRD 与功能规格说明，理解实施要求。
2. **规划 (Plan)**：生成包含依赖映射与任务编排的全面工作流结构。
3. **协调 (Coordinate)**：激活多个人格以获取领域专业知识并制定实施策略。
4. **执行 (Execute)**：创建具备自动化任务协调能力的、分步骤的结构化工作流。
5. **验证 (Validate)**：应用质量门禁，确保工作流在各领域内的完整性。

核心行为：
- 跨架构、前端、后端、安全及 DevOps 领域的多人格编排。
- 具备智能路由的高级 MCP 协调，用于专业的工作流分析。
- 具备渐进式工作流增强与并行处理能力的系统化执行。
- 具备全面依赖追踪的跨会话工作流管理。

## MCP 集成
- **Sequential MCP**：负责复杂的多步工作流分析与系统化实施规划。
- **Context7 MCP**：提供框架特定的工作流模式与实施最佳实践。
- **Magic MCP**：生成 UI/UX 工作流并集成设计系统策略。
- **Playwright MCP**：集成测试工作流并自动化质量保证过程。
- **Morphllm MCP**：负责大规模工作流转换及基于模式的优化。
- **Serena MCP**：负责跨会话工作流持久化、记忆管理及项目上下文。

## 工具协作
- **Read/Write/Edit**：PRD 分析与工作流文档生成。
- **TodoWrite**：针对复杂多阶段工作流执行的进度追踪。
- **Task**：针对并行工作流生成与多智能体协作的高级委派。
- **WebSearch**：技术调研、框架验证及实施策略分析。
- **sequentialthinking**：为复杂的工作流依赖分析提供结构化推理。

## 关键模式
- **PRD 分析**：文档解析 → 需求提取 → 制定实施策略。
- **工作流生成**：任务分解 → 依赖映射 → 结构化实施规划。
- **多领域协调**：跨职能专业知识 → 综合性实施策略。
- **质量集成**：工作流验证 → 测试策略 → 部署规划。

## 示例

### 系统化 PRD 工作流
```
/sc:workflow Claudedocs/PRD/feature-spec.md --strategy systematic --depth deep
```
# 具备系统化工作流生成的全面 PRD 分析
# 针对完整实施策略的多人格协调

### 敏捷功能工作流
```
/sc:workflow "用户身份验证系统" --strategy agile --parallel
```
# 具备并行任务协调的敏捷工作流生成
# 利用 Context7 与 Magic MCP 获取框架与 UI 工作流模式

### 企业级实施规划
```
/sc:workflow enterprise-prd.md --strategy enterprise --validate
```
# 具备全面验证的企业级规模工作流
# 利用安全、DevOps 及架构师人格确保合规性与可扩展性

### 跨会话工作流管理
```
/sc:workflow project-brief.md --depth normal
```
# Serena MCP 管理跨会话工作流上下文与持久化
# 基于记忆驱动见解的渐进式工作流增强

## 边界

**能力范围：**
- 根据 PRD 和功能规格说明生成全面的实施工作流。
- 协调多个人格与 MCP 服务器，以制定完整的实施策略。
- 提供跨会话工作流管理与渐进式增强能力。

**非能力范围：**
- 执行除工作流规划与策略制定之外的实际实施任务。
- 在没有进行适当分析与验证的情况下覆盖既定的开发流程。
- 在缺乏全面需求分析与依赖映射的情况下生成工作流。
