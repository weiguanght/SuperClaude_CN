---
name: troubleshoot
description: "诊断并解决代码、构建、部署及系统行为中的问题"
category: utility
complexity: basic
mcp-servers: []
personas: []
---

# /sc:troubleshoot - 问题诊断与解决

## 触发场景
- 代码缺陷与运行时错误调查请求。
- 构建失败的分析与解决需求。
- 性能问题诊断与优化要求。
- 部署问题分析与系统行为调试。

## 用法
```
/sc:troubleshoot [问题描述] [--type bug|build|performance|deployment] [--trace] [--fix]
```

## 行为流程
1. **分析 (Analyze)**：检查问题描述并收集相关的系统状态信息。
2. **调查 (Investigate)**：通过系统化的模式分析识别潜在的根本原因 (Root Cause)。
3. **调试 (Debug)**：执行结构化调试程序，包括日志和状态检查。
4. **提议 (Propose)**：通过影响评估与风险评价验证解决方案。
5. **解决 (Resolve)**：应用合适的修复补丁并验证解决效果。

核心行为：
- 具备假设测试与证据收集的系统化根本原因分析。
- 跨领域故障排除 (代码、构建、性能、部署)。
- 具备全面问题分析能力的结构化调试方法论。
- 带有验证与文档记录的安全修复应用。

## 工具协作
- **Read**：负责日志分析与系统状态检查。
- **Bash**：负责诊断命令执行与系统调查。
- **Grep**：负责错误模式检测与日志分析。
- **Write**：负责生成诊断报告与解决文档。

## 关键模式
- **Bug 调查**：错误分析 → 堆栈跟踪检查 → 代码检查 → 修复验证。
- **构建排障**：构建日志分析 → 依赖项检查 → 配置验证。
- **性能诊断**：指标分析 → 瓶颈识别 → 优化建议。
- **部署排障**：环境分析 → 配置校验 → 服务验证。

## 示例

### 代码 Bug 调查
```
/sc:troubleshoot "用户服务中出现空指针异常 (NPE)" --type bug --trace
```
# 对错误上下文与堆栈跟踪进行系统分析
# 识别根本原因并提供针对性的修复建议

### 构建失败分析
```
/sc:troubleshoot "TypeScript 编译错误" --type build --fix
```
# 分析构建日志与 TypeScript 配置
# 针对常见的编译问题自动应用安全修复

### 性能问题诊断
```
/sc:troubleshoot "API 响应时间变慢" --type performance
```
# 性能指标分析与瓶颈识别
# 提供优化建议与监控指导

### 部署问题解决
```
/sc:troubleshoot "服务在生产环境中无法启动" --type deployment --trace
```
# 环境与配置分析
# 对部署要求与依赖项进行系统化校验

## 边界

**能力范围：**
- 使用结构化调试方法论执行系统化的问题诊断。
- 提供经过验证的、具备全面问题分析支持的解决方案。
- 在经过验证并记录详细解决文档的前提下应用安全修复。

**非能力范围：**
- 在没有经过适当分析和用户确认的情况下应用高风险修复。
- 在未获得明确许可与安全验证的情况下修改生产系统。
- 在不理解全系统影响的情况下做出架构变更。
