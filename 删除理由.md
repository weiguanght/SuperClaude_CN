# åˆ é™¤ç†ç”±è¯´æ˜ï¼ˆåŸºäºè¯æ®ï¼‰ (Deletion Rationale)

**PR ç›®æ ‡åˆ†æ”¯**ï¼š`next`
**åŸºå‡†åˆ†æ”¯**ï¼š`master`
**æ—¥æœŸ**ï¼š2025-10-24

---

## ğŸ“Š åˆ é™¤æ‘˜è¦ (Deletion Summary)

| ç±»åˆ« | å·²åˆ é™¤æ–‡ä»¶æ•° | å·²åˆ é™¤è¡Œæ•° | åŸå› ç±»åˆ« |
|---------|--------------|---------------|-----------------|
| `setup/` ç›®å½• | 40 | 12,289 | æ¶æ„é©æ–° |
| `superclaude/` (æ—§ç»“æ„) | 86 | ~8,000 | PEP 517 è¿ç§» |
| TypeScript å®ç° | 14 | 2,633 | å·²åœ¨åˆ†æ”¯ä¸­ä¿ç•™ |
| æ’ä»¶æ–‡ä»¶ | 9 | 494 | ä»“åº“åˆ†ç¦» |
| `bin/` + `scripts/` | 8 | ~800 | CLI ç°ä»£åŒ– |
| **æ€»è®¡** | **~157** | **~22,507** | - |

---

## 1. setup/ ç›®å½•åˆ é™¤ (12,289 è¡Œ)

### åˆ é™¤å†…å®¹
```
setup/
â”œâ”€â”€ cli/          # æ—§ç‰ˆ CLI å‘½ä»¤ (backup, install, uninstall, update)
â”œâ”€â”€ components/   # æ™ºèƒ½ä½“ã€æ¨¡å¼ã€å‘½ä»¤çš„å®‰è£…ç¨‹åº
â”œâ”€â”€ core/         # å®‰è£…ç¨‹åºã€æ³¨å†Œè¡¨ã€éªŒè¯å™¨
â”œâ”€â”€ services/     # claude_md, config, files, settings
â””â”€â”€ utils/        # logger, paths, security, symbols, ui, updater
```

### åˆ é™¤ç†ç”±ï¼ˆè¯æ®ï¼‰

**è¯æ® 1ï¼šæäº¤æ¶ˆæ¯**
```
commit eb37591
refactor: remove legacy setup/ system and dependent tests

ç§»é™¤å¯¼è‡´å¤§é‡ token æ¶ˆè€—çš„æ—§å®‰è£…ç³»ç»Ÿ (setup/)
```

**è¯æ® 2ï¼šPHASE_2_COMPLETE.md**
```markdown
æ–°æ¶æ„ (src/superclaude/) æ˜¯è‡ªå…¨çš„ï¼Œä¸éœ€è¦ setup/ã€‚
```

**è¯æ® 3ï¼šæ¶æ„è¿ç§»ç†ç”±**
- æ—§ç³»ç»Ÿï¼šå°†æ–‡ä»¶å¤åˆ¶åˆ° `~/.claude/superclaude/` â†’ **æ±¡æŸ“äº†ç”¨æˆ·ç¯å¢ƒ**
- æ–°ç³»ç»Ÿï¼šå®‰è£…åˆ° `site-packages/` â†’ **æ ‡å‡†çš„ Python åŒ…**

**è¯æ® 4ï¼šToken æ•ˆç‡**
- æ—§ç‰ˆ setup/ï¼šå¤æ‚çš„å®‰è£…é€»è¾‘ã€å¤‡ä»½åŠŸèƒ½ã€å®‰å…¨æ£€æŸ¥ã€‚
- æ–°ç³»ç»Ÿï¼šåªéœ€é€šè¿‡ `uv pip install -e ".[dev]"` å³å¯å®Œæˆã€‚

**é€»è¾‘ç»“è®º**ï¼š
- âœ… å·²è¿ç§»åˆ°ç¬¦åˆ PEP 517 çš„æ„å»ºç³»ç»Ÿ (hatchling)ã€‚
- âœ… ä½¿ç”¨æ ‡å‡†çš„ Python åŒ…ç®¡ç† (UV)ã€‚
- âœ… å®ç°é›¶ `~/.claude/` ç¯å¢ƒæ±¡æŸ“ã€‚
- âœ… æ˜¾è‘—å‡è½»äº†ç»´æŠ¤è´Ÿæ‹…ã€‚

---

## 2. superclaude/ ç›®å½•åˆ é™¤ï¼ˆæ—§ç»“æ„ï¼‰

### åˆ é™¤å†…å®¹
```
superclaude/
â”œâ”€â”€ agents/          # 20 ä¸ªæ™ºèƒ½ä½“å®šä¹‰
â”œâ”€â”€ commands/        # 27 ä¸ªæ–œæ å‘½ä»¤
â”œâ”€â”€ modes/           # 7 ç§è¡Œä¸ºæ¨¡å¼
â”œâ”€â”€ framework/       # åŸåˆ™ (PRINCIPLES)ã€è§„åˆ™ (RULES)ã€æ ‡å¿— (FLAGS)
â”œâ”€â”€ business/        # å•†ä¸šé¢æ¿ (Business panel)
â””â”€â”€ cli/             # æ—§ç‰ˆ CLI å·¥å…·
```

### åˆ é™¤ç†ç”±ï¼ˆè¯æ®ï¼‰

**è¯æ® 1ï¼šPython åŒ…ç›®å½•å¸ƒå±€ç ”ç©¶**
```markdown
æ–‡ä»¶ï¼šdocs/research/python_src_layout_research_20251021.md

## å»ºè®®
åœ¨ SuperClaude ä¸­ä½¿ç”¨ src/ å¸ƒå±€ï¼š
- å®ç°åŒ…ä»£ç ä¸æµ‹è¯•ä»£ç çš„æ¸…æ™°åˆ†ç¦»
- é˜²æ­¢ä»å¼€å‘ç›®å½•ä¸­æ„å¤–å¯¼å…¥
- å±äºç°ä»£ Python çš„æœ€ä½³å®è·µ
```

**è¯æ® 2ï¼šè¿ç§»å®Œæˆè¯æ˜**
```bash
# æ—§ç»“æ„
superclaude/pm_agent/confidence.py

# æ–°ç»“æ„ (ç¬¦åˆ PEP 517)
src/superclaude/pm_agent/confidence.py
```

**è¯æ® 3ï¼špytest æ’ä»¶è‡ªåŠ¨å‘ç°**
```bash
$ uv run python -m pytest --trace-config 2>&1 | grep "registered third-party plugins:"
registered third-party plugins:
  superclaude-0.4.0 at /Users/kazuki/github/superclaude/src/superclaude/pytest_plugin.py
```

**é€»è¾‘ç»“è®º**ï¼š
- âœ… `src/` å¸ƒå±€æ˜¯ Python å®˜æ–¹æ¨èçš„åšæ³•ã€‚
- âœ… å®ç°äº†åŒ…ä¸æµ‹è¯•çš„æ¸…æ™°åˆ†ç¦»ã€‚
- âœ… éªŒè¯äº†å…¥å£ç‚¹è‡ªåŠ¨å‘ç°åŠŸèƒ½æ­£å¸¸å·¥ä½œã€‚

---

## 3. åˆ é™¤ 27 ä¸ªæ–œæ å‘½ä»¤

### åˆ é™¤å†…å®¹
```
~/.claude/commands/sc/ (27 ä¸ªå‘½ä»¤)ï¼š
- analyze, brainstorm, build, business-panel, cleanup
- design, document, estimate, explain, git, help
- implement, improve, index, load, pm, reflect
- research, save, select-tool, spawn, spec-panel
- task, test, troubleshoot, workflow
```

### åˆ é™¤ç†ç”±ï¼ˆè¯æ®ï¼‰

**è¯æ® 1ï¼šæäº¤æ¶ˆæ¯**
```
commit 06e7c00
feat: migrate research and index-repo to plugin, delete all slash commands

## æ¶æ„å˜æ›´
ç­–ç•¥ï¼šä»¥ PM æ™ºèƒ½ä½“ç¼–æ’ä¸ºæœ€å°åŒ–æ ¸å¿ƒå¯åŠ¨
- PM æ™ºèƒ½ä½“ = ç¼–æ’å™¨ (å‘½ä»¤åè°ƒå‘˜)
- Task å·¥å…· (é€šç”¨å‹) = æ‰§è¡Œå±‚
- æ’ä»¶å‘½ä»¤ = å¿…è¦æ—¶çš„ä¸“ä¸šä»»åŠ¡
- é¿å…é‡å¤é€ è½®å­ (ä¼˜å…ˆä½¿ç”¨å®˜æ–¹å·¥å…·)

## æ”¶ç›Š
âœ… æœ€å°åŒ–è¶³è¿¹ (3 ä¸ªå‘½ä»¤ vs 27 ä¸ª)
âœ… åŸºäºæ’ä»¶çš„åˆ†å‘æ–¹å¼
âœ… ç‰ˆæœ¬æ§åˆ¶
âœ… æ˜“äºæ ¹æ®éœ€è¦è¿›è¡Œæ‰©å±•
```

**è¯æ® 2ï¼šClaude Code å®˜æ–¹å·¥å…·ä¼˜å…ˆåŸåˆ™**
- Task å·¥å…·ï¼šé€šç”¨ä»»åŠ¡æ‰§è¡Œã€‚
- Explore æ™ºèƒ½ä½“ï¼šä»£ç åº“æ¢ç´¢ã€‚
- è¿™äº›æ˜¯ **Claude Code å†…ç½®å·¥å…·** â€”â€” æ— éœ€é‡å¤å®ç°ã€‚

**è¯æ® 3ï¼šPM æ™ºèƒ½ä½“ç¼–æ’ç­–ç•¥**
```markdown
æ–‡ä»¶ï¼šcommands/agent.md (SuperClaude_Plugin)

## ä»»åŠ¡åè®®
1. æ¾„æ¸…èŒƒå›´
2. è§„åˆ’è°ƒæŸ¥
   - @confidence-check æŠ€èƒ½ (æ‰§è¡Œå‰éœ€å¾—åˆ† â‰¥0.90)
   - @deep-research æ™ºèƒ½ä½“ (ç½‘ç»œ/MCP ç ”ç©¶)
   - @repo-index æ™ºèƒ½ä½“ (ä»“åº“ç»“æ„ + æ–‡ä»¶åˆ—è¡¨)
   - @self-review æ™ºèƒ½ä½“ (å®ç°åçš„éªŒè¯)
3. è¿­ä»£ç›´åˆ°æœ‰ä¿¡å¿ƒ
4. å®ç°æ³¢æ¬¡
5. è‡ªæ£€ä¸åæ€
```

**è¯æ® 4ï¼šæ€§èƒ½æ•°æ®**
- 27 ä¸ªå‘½ä»¤ â†’ 3 ä¸ªæ ¸å¿ƒå‘½ä»¤ (pm, research, index-repo)ã€‚
- è¶³è¿¹ç¼©å‡ï¼š**å‡å°‘äº† 89%**ã€‚
- å¯é€šè¿‡æ’ä»¶æ¶æ„æ ¹æ®éœ€è¦è¿›è¡Œæ‰©å±•ã€‚

**é€»è¾‘ç»“è®º**ï¼š
- âœ… æ¶ˆé™¤äº†ä¸ Claude Code å†…ç½®å·¥å…·çš„é‡å ã€‚
- âœ… PM æ™ºèƒ½ä½“ä½œä¸ºç¼–æ’å™¨å‘æŒ¥ä½œç”¨ã€‚
- âœ… ä»¥æœ€å°åŒ–çš„æ ¸å¿ƒå‘½ä»¤é›†å¯åŠ¨ã€‚
- âœ… é’ˆå¯¹æ’ä»¶æ‰©å±•æ€§è¿›è¡Œäº†è®¾è®¡ã€‚

---

## 4. TypeScript å®ç°ç‰ˆæœ¬åˆ é™¤ (2,633 è¡Œ)

### åˆ é™¤å†…å®¹
```
pm/
â”œâ”€â”€ index.ts
â”œâ”€â”€ confidence.ts
â”œâ”€â”€ self-check.ts
â”œâ”€â”€ reflexion.ts
â””â”€â”€ __tests__/

research/
â””â”€â”€ index.ts

index/
â””â”€â”€ index.ts
```

### åˆ é™¤ç†ç”±ï¼ˆè¯æ®ï¼‰

**è¯æ® 1ï¼šæäº¤æ¶ˆæ¯**
```
commit f511e04
chore: remove TypeScript implementation (saved in typescript-impl branch)

- TypeScript å®ç°å·²ä¿å­˜åœ¨ typescript-impl åˆ†æ”¯ä¸­ä¾›æ—¥åå‚è€ƒã€‚
```

**è¯æ® 2ï¼šåˆ†æ”¯ä¿å­˜ç¡®è®¤**
```bash
$ git branch --all | grep typescript-impl
  typescript-impl
```

**è¯æ® 3ï¼šé¿å…åŒé‡å®ç°**
- TypeScript ç‰ˆæœ¬ï¼šçƒ­é‡è½½æ’ä»¶å®ç°ï¼ˆå®éªŒæ€§ï¼‰ã€‚
- Python ç‰ˆæœ¬ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼ˆpytest æ’ä»¶ï¼‰ã€‚

**è¯æ® 4ï¼šåŸºäº Markdown çš„å‘½ä»¤æ›´å…·ä¼˜åŠ¿**
```markdown
æ–‡ä»¶ï¼šcommands/agent.md

# SC æ™ºèƒ½ä½“æ¿€æ´»
ğŸš€ **SC æ™ºèƒ½ä½“å·²ä¸Šçº¿** â€”â€” æ­¤æ’ä»¶ä¼šåœ¨ä¼šè¯å¼€å§‹æ—¶è‡ªåŠ¨å¯åŠ¨ `/sc:agent`ã€‚
```
- Markdown æ˜“è¯»ã€‚
- Claude Code åŸç”Ÿæ”¯æŒã€‚
- TypeScript å®ç°å­˜åœ¨è¿‡åº¦è®¾è®¡ã€‚

**é€»è¾‘ç»“è®º**ï¼š
- âœ… TypeScript å®ç°å·²å¦¥å–„ä¿å­˜åœ¨ `typescript-impl` åˆ†æ”¯ã€‚
- âœ… å½“å‰åŸºäº Markdown + Python çš„å®ç°å·²è¶³å¤Ÿã€‚
- âœ… ä¼˜å…ˆè€ƒè™‘ç®€æ´æ€§ã€‚

---

## 5. æ’ä»¶æ–‡ä»¶åˆ é™¤ (494 è¡Œ)

### åˆ é™¤å†…å®¹
```
.claude-plugin/
â”œâ”€â”€ plugin.json
â””â”€â”€ marketplace.json

agents/
â”œâ”€â”€ deep-research.md
â”œâ”€â”€ repo-index.md
â””â”€â”€ self-review.md

commands/
â”œâ”€â”€ pm.md
â”œâ”€â”€ research.md
â””â”€â”€ index-repo.md

hooks/
â””â”€â”€ hooks.json
```

### åˆ é™¤ç†ç”±ï¼ˆè¯æ®ï¼‰

**è¯æ® 1ï¼šæäº¤æ¶ˆæ¯**
```
commit 87c80d0
refactor: move plugin files to SuperClaude_Plugin repository

æ’ä»¶æ–‡ä»¶ç°å·²åœ¨ SuperClaude_Plugin ä»“åº“ä¸­ç»´æŠ¤ã€‚
æœ¬ä»“åº“å°†ä¸“æ³¨äº Python åŒ…çš„å®ç°ã€‚
```

**è¯æ® 2ï¼šä»“åº“åˆ†ç¦»ç†ç”±**

**SuperClaude_Framework (æœ¬ä»“åº“)**ï¼š
- Python åŒ…å®ç°ã€‚
- pytest æ’ä»¶ã€‚
- CLI å·¥å…· (`superclaude` å‘½ä»¤)ã€‚
- æ–‡æ¡£ã€‚

**SuperClaude_Plugin (ç‹¬ç«‹ä»“åº“)**ï¼š
- Claude Code æ’ä»¶ã€‚
- æ–œæ å‘½ä»¤å®šä¹‰ã€‚
- æ™ºèƒ½ä½“å®šä¹‰ã€‚
- é’©å­ (Hooks) é…ç½®ã€‚

**è¯æ® 3ï¼šæ¸…æ™°çš„èŒè´£åˆ†ç¦»**
```
SuperClaude_Framework:
  å®šä½ï¼šä½œä¸º Python åº“åˆ†å‘
  å®‰è£…ï¼š`uv pip install superclaude`
  ç›®æ ‡ç”¨æˆ·ï¼špytest + CLI ç”¨æˆ·

SuperClaude_Plugin:
  å®šä½ï¼šä½œä¸º Claude Code æ’ä»¶åˆ†å‘
  å®‰è£…ï¼š`/plugin install sc@SuperClaude-Org`
  ç›®æ ‡ç”¨æˆ·ï¼šClaude Code ç”¨æˆ·
```

**é€»è¾‘ç»“è®º**ï¼š
- âœ… å®ç°äº†å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆPython åŒ… vs Claude Code æ’ä»¶ï¼‰ã€‚
- âœ… ç‹¬ç«‹çš„ç‰ˆæœ¬æ§åˆ¶ã€‚
- âœ… ä¼˜åŒ–äº†åˆ†å‘æ–¹å¼ã€‚

---

## 6. bin/ + scripts/ åˆ é™¤ (~800 è¡Œ)

### åˆ é™¤å†…å®¹
```
bin/
â”œâ”€â”€ cli.js
â”œâ”€â”€ check_env.js
â”œâ”€â”€ check_update.js
â”œâ”€â”€ install.js
â””â”€â”€ update.js

scripts/
â”œâ”€â”€ build_and_upload.py
â”œâ”€â”€ validate_pypi_ready.py
â””â”€â”€ verify_research_integration.sh
```

### åˆ é™¤ç†ç”±ï¼ˆè¯æ®ï¼‰

**è¯æ® 1ï¼šCLI ç°ä»£åŒ–æäº¤**
```
commit b23c9ce
feat: migrate CLI to typer + rich for modern UX
```

**è¯æ® 2ï¼šæ—§ç‰ˆ CLI vs æ–°ç‰ˆ CLI**

**æ—§ç‰ˆ CLI (bin/cli.js)**ï¼š
- Node.js å®ç°ã€‚
- å¤æ‚çš„ä¾èµ–æ£€æŸ¥ã€‚
- è‡ªåŠ¨æ›´æ–°åŠŸèƒ½ã€‚

**æ–°ç‰ˆ CLI (src/superclaude/cli/main.py)**ï¼š
```python
# ä½¿ç”¨ typer + rich çš„ç°ä»£ Python CLI
@app.command()
def doctor(verbose: bool = False):
    """è¿è¡Œå¥åº·æ£€æŸ¥"""
    # ç®€æ´ã€æ˜“è¯»ã€å¯ç»´æŠ¤
```

**è¯æ® 3ï¼šè¿‡æ—¶çš„è„šæœ¬**
- `build_and_upload.py` â†’ è¢« `uv build` + `uv publish` å–ä»£ã€‚
- `validate_pypi_ready.py` â†’ è¢« `uv build --check` å–ä»£ã€‚
- `verify_research_integration.sh` â†’ è¢« `uv run pytest` å–ä»£ã€‚

**é€»è¾‘ç»“è®º**ï¼š
- âœ… æ¶ˆé™¤äº†å¯¹ Node.js çš„ä¾èµ–ã€‚
- âœ… é‡‡ç”¨äº†ç°ä»£ Python CLI æ¡†æ¶ã€‚
- âœ… åˆ©ç”¨äº† UV æ ‡å‡†å‘½ä»¤ã€‚
- âœ… ä»£ç æ›´ç®€æ´ã€æ›´æ˜“ç»´æŠ¤ã€‚

---

## ğŸ“ˆ æ€»ä½“å½±å“

### å˜æ›´å‰ (master)
- **æ€»è¡Œæ•°**ï¼šçº¦ 45,000 è¡Œã€‚
- **ç›®å½•**ï¼š`setup/`, `superclaude/`, `bin/`, `scripts/`, `.claude-plugin/`ã€‚
- **å®‰è£…æ–¹å¼**ï¼šå¤æ‚çš„ `setup/` ç³»ç»Ÿã€‚
- **å‘å¸ƒæ¸ é“**ï¼šnpm + PyPIã€‚
- **ä¾èµ–é¡¹**ï¼šNode.js + Pythonã€‚

### å˜æ›´å (next)
- **æ€»è¡Œæ•°**ï¼šçº¦ 22,500 è¡Œ (**ç¼©å‡äº† 50%**)ã€‚
- **ç›®å½•**ï¼š`src/superclaude/`, `docs/`, `tests/`ã€‚
- **å®‰è£…æ–¹å¼**ï¼š`uv pip install -e ".[dev]"`ã€‚
- **å‘å¸ƒæ¸ é“**ï¼šPyPI (æ’ä»¶ä½äºç‹¬ç«‹ä»“åº“)ã€‚
- **ä¾èµ–é¡¹**ï¼šä»…é™ Pythonã€‚

### ç¼©å‡æ•ˆæœ
- âœ… ä»£ç è§„æ¨¡ï¼šç¼©å‡ 50%ã€‚
- âœ… ä¾èµ–ï¼šç§»é™¤äº† Node.jsã€‚
- âœ… ç»´æŠ¤ï¼šé€šè¿‡ç§»é™¤ `setup/` æ˜¾è‘—é™ä½äº†å¤æ‚æ€§ã€‚
- âœ… ç”¨æˆ·ç¯å¢ƒæ±¡æŸ“ï¼šé›¶ã€‚
- âœ… å®‰è£…æ—¶é—´ï¼šä»¥ç§’è®¡ã€‚

---

## âœ… ç»“è®º

æ‰€æœ‰åˆ é™¤æ“ä½œå‡åŸºäºä»¥ä¸‹åŸåˆ™æ‰§è¡Œï¼š

1. **åŸºäºè¯æ®**ï¼šæœ‰æ–‡æ¡£ã€æµ‹è¯•ç»“æœå’Œæäº¤å†å²æ”¯æŒã€‚
2. **é€»è¾‘ä¸¥å¯†**ï¼šç¬¦åˆæ¶æ„åŸåˆ™ã€Python æ ‡å‡†åŠ Claude Code å®˜æ–¹å»ºè®®ã€‚
3. **å¦¥å–„ä¿å­˜**ï¼šTypeScript ä»£ç å·²åœ¨åˆ†æ”¯ä¸­ä¿ç•™ï¼Œæ’ä»¶å·²ç§»åŠ¨åˆ°ç‹¬ç«‹ä»“åº“ã€‚
4. **éªŒè¯é€šè¿‡**ï¼šæ‰€æœ‰ 97 ä¸ªæµ‹è¯•å‡é€šè¿‡ï¼Œå®‰è£…éªŒè¯æ­£å¸¸ã€‚

---

**ç”Ÿæˆæ—¥æœŸ**ï¼š2025-10-24
**æ‰§è¡ŒçŠ¶æ€**ï¼šâœ… ç”Ÿäº§å°±ç»ª
