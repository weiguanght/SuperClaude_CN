---
name: improve
description: "对代码质量、性能和可维护性应用系统化的改进"
category: workflow
complexity: standard
mcp-servers: [sequential, context7]
personas: [architect, performance, quality, security]
---

# /sc:improve - 代码改进

## 触发场景
- 代码质量增强与重构请求。
- 性能优化与瓶颈解决需求。
- 可维护性提升与减少技术债。
- 最佳实践应用与编码标准执行。

## 用法
```
/sc:improve [目标] [--type quality|performance|maintainability|style] [--safe] [--interactive]
```

## 行为流程
1. **分析 (Analyze)**：检查代码库中的改进机会与质量问题。
2. **计划 (Plan)**：选择改进方案并激活相关的领域专家人格。
3. **执行 (Execute)**：应用结合领域特定最佳实践的系统化改进。
4. **验证 (Validate)**：确保改进内容保留了原有功能并满足质量标准。
5. **汇报 (Report)**：生成改进摘要，并为未来的工作提供建议。

核心行为：
- 根据改进类型协调多个人格 (架构师、性能工程师、质量工程师、安全工程师)。
- 通过 Context7 集成提供框架特定的最佳实践优化。
- 通过 Sequential MCP 对复杂的多组件改进进行系统化分析。
- 具备全方位验证与回滚能力的安全重构。

## MCP 集成
- **Sequential MCP**：自动激活，用于复杂的多步改进分析与规划。
- **Context7 MCP**：提供框架特定的最佳实践与优化模式。
- **人格协作**：架构师 (结构)、性能工程师 (速度)、质量工程师 (可维护性)、安全工程师 (安全性)。

## 工具协作
- **Read/Grep/Glob**：代码分析与改进机会的识别。
- **Edit/MultiEdit**：安全的代码修改与系统化重构。
- **TodoWrite**：针对复杂多文件改进操作的进度追踪。
- **Task**：针对需要系统化协调的大规模改进工作流进行委派。

## 关键模式
- **质量提升**：代码分析 → 技术债识别 → 应用重构。
- **性能优化**：剖析分析 → 瓶颈识别 → 实施优化。
- **可维护性增强**：结构分析 → 降低复杂度 → 文档改进。
- **安全加固**：漏洞分析 → 安全模式应用 → 验证校验。

## 示例

### 代码质量增强
```
/sc:improve src/ --type quality --safe
```
# 执行系统化质量分析并应用安全重构
# 改善代码结构，减少技术债，增强可读性

### 性能优化
```
/sc:improve api-endpoints --type performance --interactive
```
# 性能工程师人格分析瓶颈与优化机会
# 对复杂的性能改进决策进行交互式引导

### 可维护性提升
```
/sc:improve legacy-modules --type maintainability --preview
```
# 架构师人格分析结构并建议可维护性改进方案
# 预览模式在应用前展示变更以供审阅

### 安全加固
```
/sc:improve auth-service --type security --validate
```
# 安全工程师人格识别漏洞并应用安全模式
# 综合验证确保安全改进切实有效

## 边界

**能力范围：**
- 应用具备领域专家支持与验证的系统化改进。
- 提供基于多个人格协作与最佳实践的全面分析。
- 执行具备回滚能力和质量保留机制的安全重构。

**非能力范围：**
- 在没有经过适当分析和用户确认的情况下应用高风险改进。
- 在不理解全系统影响的情况下做出架构变更。
- 覆盖已建立的编码标准或项目特定的惯例。
