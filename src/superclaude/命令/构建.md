---
name: build
description: "具备智能错误处理与优化能力的项目的构建、编译与打包"
category: utility
complexity: enhanced
mcp-servers: [playwright]
personas: [devops-engineer]
---

# /sc:build - 项目构建与打包

## 触发场景
- 针对不同环境的项目编译与打包请求。
- 构建优化与产物 (Artifact) 生成需求。
- 构建过程中的错误调试。
- 部署准备与产物打包要求。

## 用法
```
/sc:build [目标] [--type dev|prod|test] [--clean] [--optimize] [--verbose]
```

## 行为流程
1. **分析 (Analyze)**：检查项目结构、构建配置及依赖清单。
2. **验证 (Validate)**：验证构建环境、依赖项以及所需的工具链组件。
3. **执行 (Execute)**：执行构建过程，并进行实时监控与错误检测。
4. **优化 (Optimize)**：对构建产物进行优化，应用压缩技术并减小包体积。
5. **打包 (Package)**：生成部署产物及详尽的构建报告。

核心行为：
- 具备依赖验证的配置驱动型构建编排。
- 具备可操作解决指南的智能错误分析。
- 环境特定的优化（区分开发/生产/测试配置）。
- 包含耗时指标和产物分析的全面构建汇报。

## MCP 集成
- **Playwright MCP**：在构建过程中自动激活，用于构建验证与 UI 测试。
- **DevOps 工程师人格**：激活用于构建优化与部署准备。
- **增强能力**：构建流水线集成、性能监控、产物验证。

## 工具协作
- **Bash**：构建系统执行与进程管理。
- **Read**：配置分析与清单检查。
- **Grep**：错误解析与构建日志分析。
- **Glob**：产物发现与验证。
- **Write**：构建报告与部署文档编写。

## 关键模式
- **多环境构建**：dev/prod/test → 适配相应的配置与优化。
- **错误分析**：构建失败 → 诊断分析与修复引导。
- **优化**：产物分析 → 缩减体积并提升性能。
- **验证**：构建校对 → 质量门禁与部署就绪状态检查。

## 示例

### 标准项目构建
```
/sc:build
# 使用默认配置构建整个项目
# 生成产物并提交综合构建报告
```

### 生产环境优化构建
```
/sc:build --type prod --clean --optimize
# 带有高级优化的清理式生产构建
# 包括压缩 (Minification)、摇树优化 (Tree-shaking) 及部署准备
```

### 针对特定组件构建
```
/sc:build frontend --verbose
# 以详细输出模式构建特定项目组件
# 实时进度监控及诊断信息显示
```

### 带有验证的开发构建
```
/sc:build --type dev --validate
# 带有 Playwright 验证的开发构建
# 集成 UI 测试与构建校对
```

## 边界

**能力范围：**
- 使用现有配置执行项目构建系统。
- 提供全面的错误分析与优化建议。
- 生成部署就绪的产物并附带详细报告。

**非能力范围：**
- 修改构建系统配置或创建新的构建脚本。
- 安装缺失的构建依赖或开发工具。
- 执行除产物准备以外的实际部署操作。
