# KNOWLEDGE.md (çŸ¥è¯†åº“)

**SuperClaude æ¡†æ¶ç§¯ç´¯çš„è§è§£ã€æœ€ä½³å®è·µå’Œæ•…éšœæ’é™¤æŒ‡å—**

> æœ¬æ–‡æ¡£è®°å½•äº†å¼€å‘è¿‡ç¨‹ä¸­å­¦åˆ°çš„ç»éªŒæ•™è®­ã€å¸¸è§é™·é˜±ä»¥åŠå‘ç°çš„è§£å†³æ–¹æ¡ˆã€‚
> åœ¨é‡åˆ°é—®é¢˜æˆ–å­¦ä¹ é¡¹ç›®æ¨¡å¼æ—¶ï¼Œè¯·æŸ¥é˜…æ­¤æ–‡æ¡£ã€‚

**æœ€åæ›´æ–°æ—¶é—´**ï¼š2025-11-12

---

## ğŸ§  **æ ¸å¿ƒè§è§£**

### **é¡¹ç›®ç®¡ç† (PM) æ™ºèƒ½ä½“çš„æŠ•èµ„å›æŠ¥ç‡ (ROI)ï¼š25-250 å€çš„ Token èŠ‚çœ**

**å‘ç°**ï¼šæ‰§è¡Œå‰çš„ä¿¡å¿ƒæ£€æŸ¥ (Confidence Checking) å…·æœ‰æé«˜çš„æŠ•èµ„å›æŠ¥ç‡ã€‚

**è¯æ®**ï¼š
- åœ¨ä¿¡å¿ƒæ£€æŸ¥ä¸ŠèŠ±è´¹ 100-200 ä¸ª tokenï¼Œå¯ä»¥åœ¨é”™è¯¯æ–¹å‘çš„å·¥ä½œä¸ŠèŠ‚çœ 5,000-50,000 ä¸ª tokenã€‚
- å®é™…æ¡ˆä¾‹ï¼šåœ¨ç¼–ç å‰æ£€æŸ¥é‡å¤å®ç°ï¼ˆ2 åˆ†é’Ÿè°ƒç ”ï¼‰ vs å®ç°é‡å¤åŠŸèƒ½ï¼ˆ2 å°æ—¶å·¥ä½œï¼‰ã€‚

**æœ€é€‚ç”¨çš„åœºæ™¯**ï¼š
- éœ€æ±‚ä¸æ˜ â†’ å…ˆæé—®
- æ–°ä»£ç åº“ â†’ æœç´¢ç°æœ‰æ¨¡å¼
- å¤æ‚åŠŸèƒ½ â†’ éªŒè¯æ¶æ„åˆè§„æ€§
- Bug ä¿®å¤ â†’ ç¼–ç å‰è¯†åˆ«æ ¹å› 

**ä½•æ—¶å¯ä»¥è·³è¿‡**ï¼š
- çç¢çš„æ›´æ”¹ï¼ˆä¿®å¤æ‹¼å†™é”™è¯¯ï¼‰
- è·¯å¾„æ¸…æ™°ã€ç†è§£é€å½»çš„ä»»åŠ¡
- ç´§æ€¥ä¿®å¤ï¼ˆä½†äº‹åéœ€è®°å½•ç»éªŒï¼‰

---

### **å¹»è§‰æ£€æµ‹ï¼š94% çš„å‡†ç¡®ç‡**

**å‘ç°**ï¼šâ€œå››ä¸ªé—®é¢˜â€æ³•èƒ½æ•æ‰åˆ°ç»å¤§å¤šæ•° AI å¹»è§‰ã€‚

**å››ä¸ªé—®é¢˜**ï¼š
1. æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†å—ï¼Ÿ â†’ **è¦æ±‚**æä¾›å®é™…è¾“å‡ºã€‚
2. æ‰€æœ‰éœ€æ±‚éƒ½æ»¡è¶³äº†å—ï¼Ÿ â†’ **åˆ—å‡º**æ¯ä¸€é¡¹éœ€æ±‚ã€‚
3. éªŒè¯å‰æ²¡æœ‰å‡è®¾ï¼Ÿ â†’ **å±•ç¤º**ç›¸å…³æ–‡æ¡£ã€‚
4. æœ‰è¯æ®æ”¯æŒå—ï¼Ÿ â†’ **æä¾›**æµ‹è¯•ç»“æœã€ä»£ç æ›´æ”¹ã€éªŒè¯è¿‡ç¨‹ã€‚

**æš—ç¤ºå¹»è§‰çš„å±é™©ä¿¡å·**ï¼š
- â€œæµ‹è¯•å·²é€šè¿‡â€ï¼ˆæœªå±•ç¤ºè¾“å‡ºï¼‰ ğŸš©
- â€œä¸€åˆ‡æ­£å¸¸â€ï¼ˆæ²¡æœ‰è¯æ®ï¼‰ ğŸš©
- â€œå®ç°å·²å®Œæˆâ€ï¼ˆæµ‹è¯•å´å¤±è´¥ï¼‰ ğŸš©
- è·³è¿‡é”™è¯¯æ¶ˆæ¯ ğŸš©
- å¿½ç•¥è­¦å‘Š ğŸš©
- ä½¿ç”¨â€œå¯èƒ½å¯ä»¥å·¥ä½œâ€ä¹‹ç±»çš„æªè¾ ğŸš©

**å®é™…æ¡ˆä¾‹**ï¼š
```
âŒ é”™è¯¯ç¤ºä¾‹ï¼š"API é›†æˆå·²å®Œæˆï¼Œè¿è¡Œæ­£å¸¸ã€‚"
âœ… æ­£ç¡®ç¤ºä¾‹ï¼š"API é›†æˆå·²å®Œæˆã€‚æµ‹è¯•è¾“å‡ºï¼š
          âœ… test_api_connection: PASSED
          âœ… test_api_authentication: PASSED
          âœ… test_api_data_fetch: PASSED
          æ‰€æœ‰ 3 ä¸ªæµ‹è¯•åœ¨ 1.2s å†…é€šè¿‡"
```

---

### **å¹¶è¡Œæ‰§è¡Œï¼š3.5 å€çš„æé€Ÿ**

**å‘ç°**ï¼šâ€œæ³¢æ¬¡ (Wave) â†’ æ£€æŸ¥ç‚¹ (Checkpoint) â†’ æ³¢æ¬¡â€æ¨¡å¼æå¤§åœ°æå‡äº†æ€§èƒ½ã€‚

**æ¨¡å¼**ï¼š
```python
# ç¬¬ 1 æ³¢ï¼šç‹¬ç«‹è¯»å–ï¼ˆå¹¶è¡Œï¼‰
files = [Read(f1), Read(f2), Read(f3)]

# æ£€æŸ¥ç‚¹ï¼šå…±åŒåˆ†æï¼ˆä¸²è¡Œï¼‰
analysis = analyze_files(files)

# ç¬¬ 2 æ³¢ï¼šç‹¬ç«‹ç¼–è¾‘ï¼ˆå¹¶è¡Œï¼‰
edits = [Edit(f1), Edit(f2), Edit(f3)]
```

**é€‚ç”¨åœºæ™¯**ï¼š
- âœ… è¯»å–å¤šä¸ªç‹¬ç«‹æ–‡ä»¶
- âœ… ç¼–è¾‘å¤šä¸ªæ— å…³æ–‡ä»¶
- âœ… è¿è¡Œå¤šä¸ªç‹¬ç«‹æœç´¢
- âœ… å¹¶è¡Œæ‰§è¡Œæµ‹è¯•

**ä¸é€‚ç”¨åœºæ™¯**ï¼š
- âŒ å­˜åœ¨ä¾èµ–çš„æ“ä½œï¼ˆfile2 éœ€è¦ file1 çš„æ•°æ®ï¼‰
- âŒ é¡ºåºåˆ†æï¼ˆé€æ­¥æ„å»ºä¸Šä¸‹æ–‡ï¼‰
- âŒ ä¿®æ”¹å…±äº«çŠ¶æ€çš„æ“ä½œ

**æ€§èƒ½æ•°æ®**ï¼š
- ä¸²è¡Œï¼š10 æ¬¡æ–‡ä»¶è¯»å– = 10 æ¬¡ API è°ƒç”¨ = ~30 ç§’
- å¹¶è¡Œï¼š10 æ¬¡æ–‡ä»¶è¯»å– = 1 æ¬¡ API è°ƒç”¨ = ~3 ç§’
- æé€Ÿï¼šå¹³å‡ 3.5 å€ï¼Œå¤§å‹æ‰¹å¤„ç†æœ€é«˜å¯è¾¾ 10 å€ã€‚

---

## ğŸ› ï¸ **å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ**

### **é™·é˜± 1ï¼šåœ¨æ£€æŸ¥é‡å¤é¡¹ä¹‹å‰å°±å¼€å§‹å®ç°**

**é—®é¢˜**ï¼šèŠ±äº†æ•°å°æ—¶å®ç°ä¸€ä¸ªä»£ç åº“ä¸­å·²å­˜åœ¨çš„åŠŸèƒ½ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨å®ç°ä¹‹å‰**å§‹ç»ˆ**ä½¿ç”¨ Glob/Grep è¿›è¡Œæ£€æŸ¥ï¼š
```bash
# æœç´¢ç±»ä¼¼çš„å‡½æ•°
uv run python -c "from pathlib import Path; print([f for f in Path('src').rglob('*.py') if 'feature_name' in f.read_text()])"

# æˆ–è€…ä½¿ç”¨ grep
grep -r "def feature_name" src/
```

**é¢„é˜²æªæ–½**ï¼šè¿è¡Œä¿¡å¿ƒæ£€æŸ¥ï¼Œç¡®ä¿ `duplicate_check_complete=True`ã€‚

---

### **é™·é˜± 2ï¼šåœ¨æœªéªŒè¯çš„æƒ…å†µä¸‹å‡è®¾æ¶æ„**

**é—®é¢˜**ï¼šåœ¨é¡¹ç›®ä½¿ç”¨ Supabase çš„æƒ…å†µä¸‹å®ç°äº†è‡ªå®šä¹‰ APIã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨å®ç°ä¹‹å‰**é˜…è¯»** `CLAUDE.md` å’Œ `PLANNING.md`ï¼š
```python
# æ£€æŸ¥é¡¹ç›®æŠ€æœ¯æ ˆ
with open('CLAUDE.md') as f:
    claude_md = f.read()

if 'Supabase' in claude_md:
    # ä½¿ç”¨ Supabase APIï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰å®ç°
```

**é¢„é˜²æªæ–½**ï¼šè¿è¡Œä¿¡å¿ƒæ£€æŸ¥ï¼Œç¡®ä¿ `architecture_check_complete=True`ã€‚

---

### **é™·é˜± 3ï¼šè·³è¿‡æµ‹è¯•è¾“å‡º**

**é—®é¢˜**ï¼šå®£ç§°æµ‹è¯•å·²é€šè¿‡ï¼Œä½†å®é™…ä¸Šæ˜¯å¤±è´¥çš„ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š**å§‹ç»ˆ**å±•ç¤ºå®é™…çš„æµ‹è¯•è¾“å‡ºï¼š
```bash
# è¿è¡Œæµ‹è¯•å¹¶æ•è·è¾“å‡º
uv run pytest -v > test_output.txt

# åœ¨éªŒè¯ä¸­å±•ç¤º
echo "æµ‹è¯•ç»“æœï¼š"
cat test_output.txt
```

**é¢„é˜²æªæ–½**ï¼šä½¿ç”¨ `SelfCheckProtocol`ï¼Œè¦æ±‚æä¾›è¯æ®ã€‚

---

### **é™·é˜± 4ï¼šç‰ˆæœ¬ä¸ä¸€è‡´**

**é—®é¢˜**ï¼š`VERSION` æ–‡ä»¶æ˜¾ç¤ºæ˜¯ 4.1.9ï¼Œä½† `package.json` æ˜¾ç¤ºæ˜¯ 4.1.5ï¼Œ`pyproject.toml` å´æ˜¯ 0.4.0ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šç†è§£ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥ï¼š
- **æ¡†æ¶ç‰ˆæœ¬** (`VERSION` æ–‡ä»¶)ï¼šé¢å‘ç”¨æˆ·çš„ç‰ˆæœ¬ (4.1.9)
- **Python åŒ…** (`pyproject.toml`)ï¼šåº“çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬ (0.4.0)
- **NPM åŒ…** (`package.json`)ï¼šåº”ä¸æ¡†æ¶ç‰ˆæœ¬ä¸€è‡´ (4.1.9)

**æ›´æ–°ç‰ˆæœ¬æ—¶**ï¼š
1. é¦–å…ˆæ›´æ–° `VERSION` æ–‡ä»¶
2. æ›´æ–° `package.json` ä»¥åŒ¹é…
3. æ›´æ–° README å¾½ç« 
4. è€ƒè™‘ `pyproject.toml` æ˜¯å¦éœ€è¦å‡çº§ï¼ˆæ˜¯å¦æœ‰ç ´åæ€§æ›´æ”¹ï¼Ÿï¼‰
5. æ›´æ–° `CHANGELOG.md`

**é¢„é˜²æªæ–½**ï¼šåˆ›å»ºå‘å¸ƒæ£€æŸ¥æ¸…å• (Release Checklist)ã€‚

---

### **é™·é˜± 5ï¼šæœªå®‰è£… UV**

**é—®é¢˜**ï¼š`Makefile` è¦æ±‚ä½¿ç”¨ `uv`ï¼Œä½†ç”¨æˆ·æ²¡æœ‰å®‰è£…ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šå®‰è£… UVï¼š
```bash
# macOS/Linux
curl -LsSf https://astral.sh/uv/install.sh | sh

# Windows
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"

# ä½¿ç”¨ pip
pip install uv
```

**å¤‡é€‰æ–¹æ¡ˆ**ï¼šæä¾›å›é€€å‘½ä»¤ï¼š
```bash
# ä½¿ç”¨ UVï¼ˆé¦–é€‰ï¼‰
uv run pytest

# ä¸ä½¿ç”¨ UVï¼ˆå›é€€ï¼‰
python -m pytest
```

**é¢„é˜²æªæ–½**ï¼šåœ¨ README ä¸­è®°å½• UV çš„è¦æ±‚ã€‚

---

## ğŸ“š **æœ€ä½³å®è·µ**

### **æµ‹è¯•æœ€ä½³å®è·µ**

**1. ä½¿ç”¨ pytest æ ‡è®°è¿›è¡Œç»„ç»‡**ï¼š
```python
@pytest.mark.unit
def test_individual_function():
    pass

@pytest.mark.integration
def test_component_interaction():
    pass

@pytest.mark.confidence_check
def test_with_pre_check(confidence_checker):
    pass
```

**2. ä½¿ç”¨ fixture è¿›è¡Œå…±äº«è®¾ç½®**ï¼š
```python
# conftest.py
@pytest.fixture
def sample_context():
    return {...}

# test_file.py
def test_feature(sample_context):
    # ä½¿ç”¨ sample_context
```

**3. åŒæ—¶æµ‹è¯•æ­£å¸¸è·¯å¾„å’Œè¾¹ç¼˜æƒ…å†µ**ï¼š
```python
def test_feature_success():
    # æ­£å¸¸æ“ä½œ

def test_feature_with_empty_input():
    # è¾¹ç¼˜æƒ…å†µ

def test_feature_with_invalid_data():
    # é”™è¯¯å¤„ç†
```

---

### **Git å·¥ä½œæµæœ€ä½³å®è·µ**

**1. çº¦å®šå¼æäº¤ (Conventional Commits)**ï¼š
```bash
git commit -m "feat: ä¸º PM æ™ºèƒ½ä½“æ·»åŠ ä¿¡å¿ƒæ£€æŸ¥"
git commit -m "fix: è§£å†³ç‰ˆæœ¬ä¸ä¸€è‡´é—®é¢˜"
git commit -m "docs: æ›´æ–° CLAUDE.md ä¸­çš„æ’ä»¶è­¦å‘Š"
git commit -m "test: ä¸ºåæ€æ¨¡å¼æ·»åŠ å•å…ƒæµ‹è¯•"
```

**2. å°å‹ä¸”ä¸“æ³¨çš„æäº¤**ï¼š
- æ¯ä¸ª commit åº”åªåšä¸€ä»¶äº‹ã€‚
- commit æ¶ˆæ¯åº”è§£é‡Šâ€œä¸ºä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œåšäº†ä»€ä¹ˆâ€ã€‚
- ä»£ç æ›´æ”¹åº”åœ¨ 500 è¡Œä»¥å†…ï¼Œä»¥ä¾¿å¤æŸ¥ã€‚

**3. åˆ†æ”¯å‘½å**ï¼š
```bash
feature/add-confidence-check
fix/version-inconsistency
docs/update-readme
refactor/simplify-cli
test/add-unit-tests
```

---

### **æ–‡æ¡£æœ€ä½³å®è·µ**

**1. ä»£ç æ–‡æ¡£**ï¼š
```python
def assess(self, context: Dict[str, Any]) -> float:
    """
    è¯„ä¼°ä¿¡å¿ƒæ°´å¹³ (0.0 - 1.0)

    è°ƒæŸ¥é˜¶æ®µæ£€æŸ¥ç‚¹ï¼š
    1. æ²¡æœ‰é‡å¤å®ç°ï¼Ÿ (25%)
    2. ç¬¦åˆæ¶æ„è§„èŒƒï¼Ÿ (25%)
    3. éªŒè¯äº†å®˜æ–¹æ–‡æ¡£ï¼Ÿ (20%)
    4. å‚è€ƒäº†æˆç†Ÿçš„å¼€æºå®ç°ï¼Ÿ (15%)
    5. è¯†åˆ«äº†æ ¹æœ¬åŸå› ï¼Ÿ (15%)

    å‚æ•°ï¼š
        context: åŒ…å«ä»»åŠ¡è¯¦æƒ…çš„ä¸Šä¸‹æ–‡å­—å…¸

    è¿”å›å€¼ï¼š
        float: ä¿¡å¿ƒå¾—åˆ† (0.0 = æ— ä¿¡å¿ƒ, 1.0 = ç»å¯¹ç¡®å®š)

    ç¤ºä¾‹ï¼š
        >>> checker = ConfidenceChecker()
        >>> confidence = checker.assess(context)
        >>> if confidence >= 0.9:
        ...     proceed_with_implementation()
    """
```

**2. README ç»“æ„**ï¼š
- ä»¥æ¸…æ™°çš„ä»·å€¼ä¸»å¼ å¼€å§‹
- å¿«é€Ÿå®‰è£…è¯´æ˜
- ä½¿ç”¨ç¤ºä¾‹
- è¯¦ç»†æ–‡æ¡£é“¾æ¥
- è´¡çŒ®æŒ‡å—
- è®¸å¯è¯

**3. ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥**ï¼š
- åœ¨æäº¤ä»£ç æ›´æ”¹çš„åŒä¸€ä¸ª PR ä¸­æ›´æ–°æ–‡æ¡£ã€‚
- åœ¨ä»£ç å¤æŸ¥æ—¶åŒæ—¶å¤æŸ¥æ–‡æ¡£ã€‚
- å°½å¯èƒ½ä½¿ç”¨è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆã€‚

---

## ğŸ”§ **æ•…éšœæ’é™¤æŒ‡å—**

### **é—®é¢˜ï¼šæ‰¾ä¸åˆ°æµ‹è¯•**

**ç—‡çŠ¶**ï¼š
```
$ uv run pytest
ERROR: file or directory not found: tests/
```

**åŸå› **ï¼š`tests/` ç›®å½•ä¸å­˜åœ¨ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# åˆ›å»ºæµ‹è¯•ç»“æ„
mkdir -p tests/unit tests/integration

# æ·»åŠ  __init__.py æ–‡ä»¶
touch tests/__init__.py
touch tests/unit/__init__.py
touch tests/integration/__init__.py

# æ·»åŠ  conftest.py
touch tests/conftest.py
```

---

### **é—®é¢˜ï¼šæ’ä»¶æœªåŠ è½½**

**ç—‡çŠ¶**ï¼š
```
$ uv run pytest --trace-config
# superclaude æœªåˆ—åœ¨æ’ä»¶ä¸­
```

**åŸå› **ï¼šåŒ…æœªå®‰è£…æˆ–å…¥å£ç‚¹ (entry point) æœªé…ç½®ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ä»¥å¯ç¼–è¾‘æ¨¡å¼é‡æ–°å®‰è£…
uv pip install -e ".[dev]"

# éªŒè¯ pyproject.toml ä¸­çš„å…¥å£ç‚¹
# åº”åŒ…å«ï¼š
# [project.entry-points.pytest11]
# superclaude = "superclaude.pytest_plugin"

# æµ‹è¯•æ’ä»¶æ˜¯å¦å·²åŠ è½½
uv run pytest --trace-config 2>&1 | grep superclaude
```

---

### **é—®é¢˜ï¼šæµ‹è¯•ä¸­å‡ºç° ImportError**

**ç—‡çŠ¶**ï¼š
```python
ImportError: No module named 'superclaude'
```

**åŸå› **ï¼šæµ‹è¯•ç¯å¢ƒä¸­æœªå®‰è£…è¯¥åŒ…ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ä»¥å¯ç¼–è¾‘æ¨¡å¼å®‰è£…åŒ…
uv pip install -e .

# æˆ–è€…ä½¿ç”¨ uv runï¼ˆè‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼‰
uv run pytest
```

---

### **é—®é¢˜ï¼šFixture ä¸å¯ç”¨**

**ç—‡çŠ¶**ï¼š
```python
fixture 'confidence_checker' not found
```

**åŸå› **ï¼špytest æ’ä»¶æœªåŠ è½½æˆ– fixture æœªå®šä¹‰ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥æ’ä»¶æ˜¯å¦åŠ è½½
uv run pytest --fixtures | grep confidence_checker

# éªŒè¯ pytest_plugin.py æ˜¯å¦æœ‰è¯¥ fixture
# åº”åŒ…å«ï¼š
# @pytest.fixture
# def confidence_checker():
#     return ConfidenceChecker()

# é‡æ–°å®‰è£…åŒ…
uv pip install -e .
```

---

### **é—®é¢˜ï¼š.gitignore ä¸èµ·ä½œç”¨**

**ç—‡çŠ¶**ï¼š`.gitignore` ä¸­åˆ—å‡ºçš„æ–‡ä»¶ä»è¢« Git è¿½è¸ªã€‚

**åŸå› **ï¼šæ–‡ä»¶åœ¨æ·»åŠ åˆ° `.gitignore` ä¹‹å‰å·²è¢«è¿½è¸ªã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ä» Git ç¼“å­˜ä¸­ç§»é™¤ï¼Œä½†ä¿ç•™åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­
git rm --cached <file>

# æˆ–è€…ç§»é™¤æ•´ä¸ªç›®å½•
git rm -r --cached <directory>

# æäº¤æ›´æ”¹
git commit -m "fix: ä»è®°å½•ä¸­ç§»é™¤å·²å¿½ç•¥çš„æ–‡ä»¶"
```

---

## ğŸ’¡ **é«˜çº§æŠ€æœ¯**

### **æŠ€æœ¯ 1ï¼šåŠ¨æ€ Fixture é…ç½®**

```python
@pytest.fixture
def token_budget(request):
    """æ ¹æ®æµ‹è¯•æ ‡è®°è‡ªé€‚åº”çš„ fixture"""
    marker = request.node.get_closest_marker("complexity")
    complexity = marker.args[0] if marker else "medium"
    return TokenBudgetManager(complexity=complexity)

# ä½¿ç”¨ç¤ºä¾‹
@pytest.mark.complexity("simple")
def test_simple_feature(token_budget):
    assert token_budget.limit == 200
```

---

### **æŠ€æœ¯ 2ï¼šä¿¡å¿ƒé©±åŠ¨å‹æµ‹è¯•æ‰§è¡Œ**

```python
def pytest_runtest_setup(item):
    """å¦‚æœä¿¡å¿ƒè¿‡ä½ï¼Œåˆ™è·³è¿‡æµ‹è¯•"""
    marker = item.get_closest_marker("confidence_check")
    if marker:
        checker = ConfidenceChecker()
        context = build_context(item)
        confidence = checker.assess(context)

        if confidence < 0.7:
            pytest.skip(f"ä¿¡å¿ƒè¿‡ä½ï¼š{confidence:.0%}")
```

---

### **æŠ€æœ¯ 3ï¼šåæ€é©±åŠ¨å‹é”™è¯¯å­¦ä¹ **

```python
def pytest_runtest_makereport(item, call):
    """è®°å½•å¤±è´¥çš„æµ‹è¯•ä»¥ä¾¿æœªæ¥å­¦ä¹ """
    if call.when == "call" and call.excinfo is not None:
        reflexion = ReflexionPattern()
        error_info = {
            "test_name": item.name,
            "error_type": type(call.excinfo.value).__name__,
            "error_message": str(call.excinfo.value),
        }
        reflexion.record_error(error_info)
```

---

## ğŸ“Š **æ€§èƒ½è§è§£**

### **Token ä½¿ç”¨æ¨¡å¼**

åŸºäºå®é™…ä½¿ç”¨æ•°æ®ï¼š

| ä»»åŠ¡ç±»å‹ | å…¸å‹ Token | ä½¿ç”¨ PM æ™ºèƒ½ä½“å | èŠ‚çœæ¯”ä¾‹ |
|-----------|---------------|---------------|---------|
| æ‹¼å†™ä¿®å¤ | 200-500 | 200-300 | 40% |
| Bug ä¿®å¤ | 2,000-5,000 | 1,000-2,000 | 50% |
| åŠŸèƒ½å¼€å‘ | 10,000-50,000 | 5,000-15,000 | 60% |
| é”™è¯¯æ–¹å‘ | 50,000+ | 100-200 (æˆåŠŸæ‹¦æˆª) | 99%+ |

**æ ¸å¿ƒè§è§£**ï¼šé¢„é˜²ï¼ˆä¿¡å¿ƒæ£€æŸ¥ï¼‰æ¯”ä¼˜åŒ–èƒ½èŠ‚çœæ›´å¤šçš„ tokenã€‚

---

### **æ‰§è¡Œæ—¶é—´æ¨¡å¼**

| æ“ä½œ | ä¸²è¡Œ | å¹¶è¡Œ | æé€Ÿ |
|-----------|-----------|----------|---------|
| 5 æ¬¡æ–‡ä»¶è¯»å– | 15s | 3s | 5x |
| 10 æ¬¡æ–‡ä»¶è¯»å– | 30s | 3s | 10x |
| 20 æ¬¡æ–‡ä»¶ç¼–è¾‘ | 60s | 15s | 4x |
| æ··åˆæ“ä½œ | 45s | 12s | 3.75x |

**æ ¸å¿ƒè§è§£**ï¼šå¹¶è¡Œæ‰§è¡Œåœ¨æ¯ä¸ªæ³¢æ¬¡è¶…è¿‡çº¦ 10 ä¸ªæ“ä½œåï¼Œè¾¹é™…æ”¶ç›Šä¼šé€’å‡ã€‚

---

## ğŸ“ **ç»éªŒæ•™è®­**

### **æ•™è®­ 1ï¼šæ–‡æ¡£æ¼‚ç§»æ˜¯çœŸå®å­˜åœ¨çš„**

**å‘ç”Ÿçš„æƒ…å†µ**ï¼šREADME æè¿°äº†ä¸€ä¸ª v2.0 çš„æ’ä»¶ç³»ç»Ÿï¼Œä½†è¯¥ç³»ç»Ÿåœ¨ v4.1.9 ä¸­å¹¶ä¸å­˜åœ¨ã€‚

**å½±å“**ï¼šç”¨æˆ·èŠ±äº†æ•°å°æ—¶å°è¯•å®‰è£…ä¸å­˜åœ¨çš„åŠŸèƒ½ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¢åŠ å…³äºâ€œè®¡åˆ’ä¸­â€ä¸â€œå·²å®ç°â€åŠŸèƒ½çš„è­¦å‘Šã€‚
- æ¯æ¬¡å‘å¸ƒæ—¶éƒ½è¦å¤æŸ¥æ–‡æ¡£ã€‚
- é“¾æ¥åˆ°è®¡åˆ’åŠŸèƒ½çš„è¿½è¸ª Issueã€‚

**é¢„é˜²æªæ–½**ï¼šåœ¨å‘å¸ƒæµç¨‹ä¸­åŠ å…¥æ–‡æ¡£å¤æŸ¥æ¸…å•ã€‚

---

### **æ•™è®­ 2ï¼šç‰ˆæœ¬ç®¡ç†å¾ˆå›°éš¾**

**å‘ç”Ÿçš„æƒ…å†µ**ï¼šä¸‰ä¸ªæ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·å„ä¸ç›¸åŒã€‚

**å½±å“**ï¼šå¯¹å®‰è£…çš„æ˜¯å“ªä¸ªç‰ˆæœ¬æ„Ÿåˆ°å›°æƒ‘ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å®šä¹‰ç‰ˆæœ¬çš„å•ä¸€çœŸç†æ¥æº (Source of Truth)ã€‚
- è®°å½•ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥ã€‚
- åœ¨å‘å¸ƒè„šæœ¬ä¸­è‡ªåŠ¨åŒ–æ›´æ–°ç‰ˆæœ¬ã€‚

**é¢„é˜²æªæ–½**ï¼šä½¿ç”¨å•ä¸€çš„ç‰ˆæœ¬æ¥æºï¼ˆä¾‹å¦‚ä½¿ç”¨ bumpversionï¼‰ã€‚

---

### **æ•™è®­ 3ï¼šæµ‹è¯•æ˜¯ä¸å®¹åå•†çš„**

**å‘ç”Ÿçš„æƒ…å†µ**ï¼šæ¡†æ¶æä¾›äº†æµ‹è¯•å·¥å…·ï¼Œä½†æ¡†æ¶æœ¬èº«å´æ²¡æœ‰æµ‹è¯•ã€‚

**å½±å“**ï¼šå¯¹ä»£ç è´¨é‡ç¼ºä¹ä¿¡å¿ƒï¼Œå‡ºç°å›å½’ Bugã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åˆ›å»ºå…¨é¢çš„æµ‹è¯•å¥—ä»¶ã€‚
- è¦æ±‚æ‰€æœ‰æ–°ä»£ç éƒ½å¿…é¡»é…æœ‰æµ‹è¯•ã€‚
- æ·»åŠ  CI/CD ä»¥è‡ªåŠ¨è¿è¡Œæµ‹è¯•ã€‚

**é¢„é˜²æªæ–½**ï¼šå°†æµ‹è¯•ä½œä¸º PR æ¨¡æ¿ä¸­çš„ç¡¬æ€§è¦æ±‚ã€‚

---

## ğŸ”® **æœªæ¥æ¢ç´¢**

å€¼å¾—ç ”ç©¶çš„æƒ³æ³•ï¼š

1. **è‡ªåŠ¨åŒ–ä¿¡å¿ƒæ£€æŸ¥** â€”â€” AI åˆ†æä¸Šä¸‹æ–‡å¹¶æå‡ºæ”¹è¿›å»ºè®®ã€‚
2. **å¯è§†åŒ–åæ€æ¨¡å¼** â€”â€” é”™è¯¯æ¨¡å¼éšæ—¶é—´å˜åŒ–çš„å›¾è¡¨è§†å›¾ã€‚
3. **é¢„æµ‹æ€§ Token é¢„ç®—** â€”â€” åŸºäºä»»åŠ¡é¢„æµ‹ Token ä½¿ç”¨é‡çš„ ML æ¨¡å‹ã€‚
4. **åä½œå­¦ä¹ ** â€”â€” åœ¨é¡¹ç›®é—´å…±äº«åæ€æ¨¡å¼ï¼ˆé€‰æ‹©æ€§åŠ å…¥ï¼‰ã€‚
5. **å®æ—¶å¹»è§‰æ£€æµ‹** â€”â€” ç”Ÿæˆè¿‡ç¨‹ä¸­çš„æµå¼åˆ†æã€‚

---

## ğŸ“ **è·å–å¸®åŠ©**

**é™·å…¥å›°å¢ƒæ—¶**ï¼š
1. æ£€æŸ¥æ­¤ `KNOWLEDGE.md` ä»¥è·å–ç±»ä¼¼é—®é¢˜ã€‚
2. é˜…è¯» `PLANNING.md` ä»¥äº†è§£æ¶æ„ä¸Šä¸‹æ–‡ã€‚
3. æ£€æŸ¥ `TASK.md` ä»¥äº†è§£å·²çŸ¥é—®é¢˜ã€‚
4. åœ¨ GitHub Issue ä¸­æœç´¢è§£å†³æ–¹æ¡ˆã€‚
5. åœ¨ GitHub Discussion ä¸­æé—®ã€‚

**åˆ†äº«çŸ¥è¯†æ—¶**ï¼š
1. åœ¨æ­¤æ–‡ä»¶ä¸­è®°å½•è§£å†³æ–¹æ¡ˆã€‚
2. æ›´æ–°ç›¸å…³ç« èŠ‚ã€‚
3. å¦‚æœé€‚ç”¨ï¼Œæ·»åŠ åˆ°æ•…éšœæ’é™¤æŒ‡å—ã€‚
4. è€ƒè™‘æ·»åŠ åˆ° FAQã€‚

---

*æœ¬æ–‡æ¡£éšé¡¹ç›®åŒæ­¥å¢é•¿ã€‚æ¯ä¸€ä½é‡åˆ°é—®é¢˜å¹¶æ‰¾åˆ°è§£å†³æ–¹æ¡ˆçš„äººéƒ½åº”åœ¨æ­¤è®°å½•ã€‚*

**è´¡çŒ®è€…**ï¼šSuperClaude å¼€å‘å›¢é˜ŸåŠç¤¾åŒº
**ç»´æŠ¤è€…**ï¼šé¡¹ç›®ç»´æŠ¤è€…
**å¤æŸ¥é¢‘ç‡**ï¼šæ¯å­£åº¦æˆ–å‡ºç°é‡å¤§è§è§£å
