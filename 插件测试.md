# PM 智能体插件性能测试 (Plugin Performance Test)

## 测试命令 (在新的会话中运行)

```bash
/plugin marketplace add superclaude-local file:///Users/hoto/SuperClaude
/plugin install pm-agent@superclaude-local
/context
/pm
/context
```

## 预期结果

### 安装插件前的 Token 占用
- 系统提示词：~2.5k tokens
- 记忆文件：~9k tokens
- 总计：~27k tokens

### 安装插件后的 Token 占用
- 插件元数据：~50 tokens (仅 plugin.json)
- 技能在调用前**不会**加载
- 预期：极小幅度的增加

### 执行 /pm 后的 Token 占用
- 命令定义：~324 tokens
- 按需加载的技能：~1,308 tokens
- 预期总增幅：~1,632 tokens

## 与旧版实现的对比

### 旧版 (/sc:pm 斜杠命令)
- 始终加载：~324 tokens (命令定义)
- 模块引用 (@pm/modules/*)：~1,600 tokens
- 总开销：~1,924 tokens (始终占用内存)

### 新版 (插件形式)
- 延迟加载：在调用 `/pm` 之前为 0 tokens
- 按需技能：~1,632 tokens (仅在需要时加载)
- 节省：约 292 tokens + 在不使用时零足迹

## 成功标准

✅ 插件成功安装
✅ 安装后可通过 `/pm` 命令调用
✅ 执行 `/pm` 后的 Token 增幅 <2k tokens
✅ 技能按需加载 (而非会话开始时加载)
